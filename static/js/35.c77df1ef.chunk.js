(this["webpackJsonpkids-sport"]=this["webpackJsonpkids-sport"]||[]).push([[35],{293:function(e,t,n){"use strict";var i=n(6),a=n(9),l=n(1),c=n(0),s=n.n(c),o=n(56),r=n(385),d=n(387),u=n(294),b=n.n(u),j=(n(295),n(127));t.a=function(e){var t,n=e.items,c=e.queryKey,u=e.valueKey,v=e.titleKey,g=e.placeholder,h=e.title,_=e.all,O=e.small,p=Object(o.a)(),x=Object(j.a)().t,f=s.a.useState(null),m=Object(a.a)(f,2),y=m[0],k=m[1],C=function(){return k(null)};return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"".concat(b.a.dropdown," ").concat(O?b.a.small:""),"aria-controls":"main-dropdown","aria-haspopup":"true",onClick:function(e){return k(e.currentTarget)},children:Object(l.jsxs)("div",{className:b.a.text,children:[Object(l.jsx)("span",{children:(null===n||void 0===n?void 0:n.length)&&(null===(t=n.find((function(e){var t;return e[u]===(null===p||void 0===p||null===(t=p.values)||void 0===t?void 0:t[c])})))||void 0===t?void 0:t[v])||g}),Object(l.jsx)("div",{className:b.a.icon,children:Object(l.jsx)("i",{className:Boolean(y)?"fas fa-caret-down "+b.a.rotate:"fas fa-caret-down"})})]})}),Object(l.jsxs)(r.a,{id:"simple-menu",anchorEl:y,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},keepMounted:!0,open:Boolean(y),onClose:C,children:[_?Object(l.jsx)(d.a,{onClick:function(){var e;p.merge((e={},Object(i.a)(e,c,""),Object(i.a)(e,"page",1),e)),C()},children:x("main.all")},-1):null,n&&n.length?n.map((function(e,t){return Object(l.jsx)(d.a,{onClick:function(){var t;p.merge((t={},Object(i.a)(t,c,e[u]),Object(i.a)(t,"page",1),t)),C()},children:h||e[v]},t)})):null]})]})}},294:function(e,t,n){e.exports={dropdown:"style_dropdown__3BJ-M",small:"style_small__2fUx3",text:"style_text__3e4Nh",icon:"style_icon__1sdhq",rotate:"style_rotate__2-5iU"}},295:function(e,t,n){},587:function(e,t,n){e.exports={bgImg:"buildings_bgImg__VdBMk",backgImg:"buildings_backgImg__39iAH",path:"buildings_path__244gl",link:"buildings_link__2LNMY",dot:"buildings_dot__1x5jT",current:"buildings_current__1SHn9",pageTitle:"buildings_pageTitle__2A0fI",share:"buildings_share__-P2Wv",iconCont:"buildings_iconCont__1s9QC",tableHeader:"buildings_tableHeader__1Vv2M",leftHead:"buildings_leftHead__j1XDP",poiner:"buildings_poiner__SzR7S","slick-dots":"buildings_slick-dots__2AyXh",buildingCont:"buildings_buildingCont__3BEDG",content:"buildings_content__reA5E",dropdownCont:"buildings_dropdownCont__1o58v",categories:"buildings_categories__1NIod",categoryCont:"buildings_categoryCont__zUzOI",container:"buildings_container__2ymUZ",all:"buildings_all__dGZHg",active:"buildings_active__fk_If"}},685:function(e,t,n){"use strict";n.r(t);var i=n(5),a=n(11),l=n.n(a),c=n(22),s=n(9),o=n(1),r=n(0),d=n(49),u=n(14),b=n(65),j=n.n(b),v=n(127),g=n(80),h=n(587),_=n.n(h),O=n(293),p=n(82),x=n(134),f=n(141),m=n(140),y=n(128),k=n(56),C=n(131),w=n.n(C),N=n(133),S=n(135);t.default=function(){var e,t,n,a=Object(k.a)(),b=Object(r.useState)(4),h=Object(s.a)(b,2),C=h[0],I=h[1],H=Object(r.useState)(""),A=Object(s.a)(H,2),K=(A[0],A[1],Object(r.useState)(1)),M=Object(s.a)(K,2),T=M[0],z=M[1],B=Object(r.useState)(!1),E=Object(s.a)(B,2),q=E[0],U=E[1],J=Object(r.useState)(!1),L=Object(s.a)(J,2),D=L[0],G=L[1],P=Object(r.useState)(!1),R=Object(s.a)(P,2),V=R[0],X=R[1],Z=Object(r.useState)([]),F=Object(s.a)(Z,2),Q=F[0],W=F[1],Y=Object(r.useRef)(!1),$=Object(v.a)().t,ee=Object(u.g)(),te=S.a.map((function(e){var t;return{id:e.id,title:$("regions.".concat(null===(t=e.id)||void 0===t?void 0:t.toLowerCase()))}})),ne=Object(d.e)("allFacilityCategories",g.a.category.facility.getAll);Object(r.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(r.useEffect)((function(){var e,t,n;ie({category:null===a||void 0===a||null===(e=a.values)||void 0===e?void 0:e.category,search:null===a||void 0===a||null===(t=a.values)||void 0===t?void 0:t.search,region:null===a||void 0===a||null===(n=a.values)||void 0===n?void 0:n.region}),Y.current?z(1):(window.scrollTo(0,0),Y.current=!0)}),[null===a||void 0===a||null===(e=a.values)||void 0===e?void 0:e.category,null===a||void 0===a||null===(t=a.values)||void 0===t?void 0:t.search,null===a||void 0===a||null===(n=a.values)||void 0===n?void 0:n.region]);var ie=function(){var e=Object(c.a)(l.a.mark((function e(t){var n,i,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,D||q){e.next=10;break}return U(!0),e.next=5,g.a.facility.getAll(t);case 5:c=e.sent,U(!1),W(null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.results),X(!!(null===c||void 0===c||null===(i=c.data)||void 0===i?void 0:i.next)),(null===c||void 0===c||null===(a=c.data)||void 0===a?void 0:a.next)&&z(2);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),U(!1);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(c.a)(l.a.mark((function e(){var t,n,c,s,o,r,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,D||q||!V){e.next=10;break}return G(!0),e.next=5,g.a.facility.getAll({category:(null===a||void 0===a||null===(t=a.values)||void 0===t?void 0:t.category)||void 0,search:null===a||void 0===a||null===(n=a.values)||void 0===n?void 0:n.search,region:null===a||void 0===a||null===(c=a.values)||void 0===c?void 0:c.region,page:T});case 5:d=e.sent,W([].concat(Object(i.a)(Q),Object(i.a)(null===d||void 0===d||null===(s=d.data)||void 0===s?void 0:s.results))),X(null===d||void 0===d||null===(o=d.data)||void 0===o?void 0:o.next),G(!1),(null===d||void 0===d||null===(r=d.data)||void 0===r?void 0:r.next)&&z(T+1);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),G(!1);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),le=j.a.get(ne,["data","data","results"]);return Object(o.jsx)("div",{className:"container-fluid ".concat(_.a.buildingCont," ").concat(_.a.backgImg),children:Object(o.jsxs)("div",{className:_.a.content,children:[Object(o.jsxs)("div",{className:"container-fluid p-0 ".concat(_.a.path),children:[Object(o.jsx)("span",{onClick:function(){return ee.push("/")},className:_.a.link,children:$("main.main")}),Object(o.jsx)("div",{className:_.a.dot}),Object(o.jsx)("span",{className:_.a.current,onClick:function(){return ee.push("/buildings")},children:$("buildings.buildings")})]}),Object(o.jsxs)("div",{className:_.a.pageTitle,children:[Object(o.jsx)("h1",{children:$("buildings.buildings")}),Object(o.jsx)(O.a,{items:te,queryKey:"region",valueKey:"id",titleKey:"title",placeholder:$("dropdown.region_select"),all:!0})]}),Object(o.jsx)("div",{className:_.a.searchbar,children:Object(o.jsx)(p.a,{queryKey:"search"})}),Object(o.jsx)("div",{className:_.a.categories,children:Object(o.jsxs)("div",{className:"row m-md-0",children:[ne.isLoading&&Object(o.jsx)(y.a,{}),le&&le.slice(0,C).map((function(e,t){var n;return Object(o.jsx)("div",{onClick:function(){return a.set("category",e.guid)},className:_.a.categoryCont,children:Object(o.jsx)(x.a,{title:e.title,image:e.icon,chosen:e.guid===(null===(n=a.values)||void 0===n?void 0:n.category)})},t)})),le&&Object(o.jsx)("div",{className:C>le.length?"d-none":_.a.categoryCont,onClick:function(){return I(C+5)},children:Object(o.jsx)(x.a,{title:$("buildings.allCategories"),image:m.a})})]})}),Object(o.jsxs)("div",{className:_.a.container,children:[Object(o.jsx)(w.a,{pageStart:0,loadMore:q||D||!V?function(){}:function(){return ae()},hasMore:V,loader:"",threshold:600,children:Object(o.jsxs)("table",{children:[Object(o.jsx)("thead",{className:_.a.tableHeader,children:Object(o.jsxs)("tr",{children:[Object(o.jsxs)("th",{colSpan:2,children:[" ",Object(o.jsx)("span",{children:$("buildings.name")})," "]}),Object(o.jsxs)("th",{children:[" ",Object(o.jsx)("span",{children:$("buildings.type")})," "]}),Object(o.jsxs)("th",{children:[" ",Object(o.jsx)("span",{children:$("buildings.capacity")})," "]}),Object(o.jsxs)("th",{children:[" ",Object(o.jsx)("span",{children:$("buildings.region")})," "]}),Object(o.jsx)("th",{children:" "})]})}),Object(o.jsx)("tbody",{children:(null===Q||void 0===Q?void 0:Q.length)?Q.map((function(e,t){var n,i;return Object(o.jsx)(f.a,{title:e.title,image:e.profile_picture,capacity:null===(n=e.capacity)||void 0===n?void 0:n.substring(0,(null===(i=e.capacity)||void 0===i?void 0:i.length)-3),region:e.region,category:e.category,onClick:function(){return ee.push("/buildings/".concat(e.guid))}},t)})):null})]})}),q||D?Object(o.jsx)(N.a,{}):null]})]})})}}}]);